{"version":3,"sources":["components/Pages/AboutTheCenter/Staff/Person.jsx"],"names":["Person","props","setPersonData","personData","setPersonId","personId","window","scroll","location","pathname","split","url","api","getUserInfo","useEffect","a","axios","result","data","fetchData","className","src","image","alt","users_fio","fio","position","dangerouslySetInnerHTML","__html","basic_information","connect","aboutTheCenterReducer","dispatch","bindActionCreators"],"mappings":"gSAaaA,EAAS,SAACC,GAAW,IAEvBC,EAAoDD,EAApDC,cAAeC,EAAqCF,EAArCE,WAAYC,EAAyBH,EAAzBG,YAAaC,EAAYJ,EAAZI,UAE/CC,OAAOC,OAAO,EAAG,GAEZF,IAGDD,GAFiBE,OAAOE,SAASC,SAASC,MAAM,KAC5B,IAIxB,IAAMC,EAAG,UAAMC,IAAIC,YAAV,eAA4BR,GAYrC,OAVAS,qBAAU,YACS,uCAAG,4BAAAC,EAAA,sEACOC,IACjBL,GAFU,OACRM,EADQ,OAIdf,EAAce,EAAOC,MAJP,2CAAH,qDAMfC,KACD,CAACd,IAGA,yBAAKe,UAAU,UACVjB,GAAc,yBAAKiB,UAAU,uBAC1B,yBACIA,UAAU,gCACVC,IAAKlB,EAAWmB,MAChBC,IAAKpB,EAAWqB,YAEpB,yBAAKJ,UAAU,wBACX,wBAAIA,UAAU,eAAejB,EAAWsB,KACxC,wBAAIL,UAAU,mBAAmBjB,EAAWuB,YAGnDvB,GAAc,wBAAIiB,UAAU,iBAAd,0DACf,yBACIA,UAAU,qBACVO,wBAAyB,CAACC,OAAQzB,EAAW0B,uBAuB9CC,uBAVS,SAAC,GAAD,IAAEC,EAAF,EAAEA,sBAAF,MAA8B,CAClD1B,SAAU0B,EAAsB1B,SAChCF,WAAY4B,EAAsB5B,eAGX,SAAA6B,GAAQ,OAAIC,YAAmB,CACtD7B,gBACAF,mBACD8B,KAEYF,CAGb9B","file":"static/js/23.ed9a0397.chunk.js","sourcesContent":["import './_staff.scss';\r\nimport api from \"../../../../assets/api\";\r\nimport React, {useEffect} from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport axios from \"axios\";\r\nimport connect from \"react-redux/es/connect/connect\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport {\r\n    setPersonId,\r\n    setPersonData,\r\n} from \"../../../../actions/aboutTheCenterAction\";\r\n\r\n\r\nexport const Person = (props) => {\r\n\r\n    const {setPersonData, personData, setPersonId, personId} = props;\r\n\r\n    window.scroll(0, 0);\r\n\r\n    if (!personId) {\r\n        const urlArray = window.location.pathname.split('/');\r\n        const id = urlArray[4];\r\n        setPersonId(+id);\r\n    }\r\n\r\n    const url = `${api.getUserInfo}?id=${personId}`;\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            const result = await axios(\r\n                url,\r\n            );\r\n            setPersonData(result.data);\r\n        };\r\n        fetchData();\r\n    }, [personId]);\r\n\r\n    return (\r\n        <div className=\"person\">\r\n            {personData && <div className=\"person-header-block\">\r\n                <img\r\n                    className=\"staff-item-image person-image\"\r\n                    src={personData.image}\r\n                    alt={personData.users_fio}\r\n                />\r\n                <div className=\"person-position-wrap\">\r\n                    <h1 className=\"person-name\">{personData.fio}</h1>\r\n                    <h2 className=\"person-position\">{personData.position}</h2>\r\n                </div>\r\n            </div>}\r\n            {personData && <h3 className=\"person-header\">Биография</h3>}\r\n            <div\r\n                className=\"person-information\"\r\n                dangerouslySetInnerHTML={{__html: personData.basic_information}}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nPerson.propTypes = {\r\n    personId: PropTypes.number.isRequired,\r\n    setPersonId: PropTypes.func.isRequired,\r\n    personData: PropTypes.object.isRequired,\r\n    setPersonData: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = ({aboutTheCenterReducer}) => ({\r\n    personId: aboutTheCenterReducer.personId,\r\n    personData: aboutTheCenterReducer.personData,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n    setPersonId,\r\n    setPersonData,\r\n}, dispatch);\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps,\r\n)(Person);"],"sourceRoot":""}